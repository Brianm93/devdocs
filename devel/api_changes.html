
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>API guidelines &#8212; Matplotlib 3.9.0.dev1178+g88d64e5f0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/css/style.css?v=86e00652" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/mpl.css?v=428c6c70" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script src="../_static/documentation_options.js?v=c0bb15dd"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=ccdb6887"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script data-domain="matplotlib.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'devel/api_changes';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://matplotlib.org/devdocs/_static/switcher.json?v3.8.1-1178-g88d64e5f0';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'devdocs';
        </script>
    <link rel="canonical" href="https://matplotlib.org/stable/devel/api_changes.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.9.0.dev1178+g88d64e5f0 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Default color changes" href="color_changes.html" />
    <link rel="prev" title="Licenses for contributed code" href="license.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
   

<a class="navbar-brand logo" href="https://matplotlib.org/stable/">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo_light.svg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo_dark.svg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="index.html">Contribute</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/release_notes.html">Releases</a>
  </li>
</ul></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-bs-toggle="dropdown">
      devdocs  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib/matplotlib" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-gitter"></i></span>
            <label class="sr-only">Gitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="index.html">Contribute</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/release_notes.html">Releases</a>
  </li>
</ul></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-bs-toggle="dropdown">
      devdocs  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib/matplotlib" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-gitter"></i></span>
            <label class="sr-only">Gitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="contribute.html">Contribute</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="development_setup.html">Setting up Matplotlib for development</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../users/installing/dependencies.html">Dependencies</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="development_workflow.html">Development workflow</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="coding_guide.html">Coding guidelines</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="license.html">Licenses for contributed code</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">API guidelines</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="color_changes.html">Default color changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="document.html">Write documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="style_guide.html">Documentation style guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="tag_guidelines.html">Guidelines for assigning tags to gallery examples</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="triage.html">Bug triaging and issue curation</a></li>
<li class="toctree-l1"><a class="reference internal" href="pr_guide.html">Pull request guidelines</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="release_guide.html">Release guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication_guide.html">Community management guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="min_dep_policy.html">Dependency version policy</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="MEP/index.html">Matplotlib Enhancement Proposals</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="MEP/template.html">MEP Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP08.html">MEP8: PEP8</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP09.html">MEP9: Global interaction manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP10.html">MEP10: Docstring consistency</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP11.html">MEP11: Third-party dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP12.html">MEP12: Improve Gallery and Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP13.html">MEP13: Use properties for Artists</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP14.html">MEP14: Text handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP15.html">MEP15: Fix axis autoscaling when limits are specified for one axis only</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP19.html">MEP19: Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP21.html">MEP21: color and cm refactor</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP22.html">MEP22: Toolbar rewrite</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP23.html">MEP23: Multiple Figures per GUI window</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP24.html">MEP24: Negative radius in polar plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP25.html">MEP25: Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP26.html">MEP26: Artist styling</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP27.html">MEP27: Decouple pyplot from backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP28.html">MEP28: Remove Complexity from Axes.boxplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP29.html">MEP29: Text light markup</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Contribute</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">API guidelines</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="api-guidelines">
<span id="api-changes"></span><h1>API guidelines<a class="headerlink" href="#api-guidelines" title="Link to this heading">#</a></h1>
<p>API consistency and stability are of great value; Therefore, API changes
(e.g. signature changes, behavior changes, removals) will only be conducted
if the added benefit is worth the effort of adapting existing code.</p>
<p>Because we are a visualization library, our primary output is the final
visualization the user sees; therefore, the appearance of the figure is part of
the API and any changes, either semantic or <a class="reference internal" href="color_changes.html#color-changes"><span class="std std-ref">aesthetic</span></a>,
are backwards-incompatible API changes.</p>
<div class="toctree-wrapper compound">
</div>
<section id="add-new-api-and-features">
<h2>Add new API and features<a class="headerlink" href="#add-new-api-and-features" title="Link to this heading">#</a></h2>
<p>Every new function, parameter and attribute that is not explicitly marked as
private (i.e., starts with an underscore) becomes part of Matplotlib's public
API. As discussed above, changing the existing API is cumbersome. Therefore,
take particular care when adding new API:</p>
<ul class="simple">
<li><p>Mark helper functions and internal attributes as private by prefixing them
with an underscore.</p></li>
<li><p>Carefully think about good names for your functions and variables.</p></li>
<li><p>Try to adopt patterns and naming conventions from existing parts of the
Matplotlib API.</p></li>
<li><p>Consider making as many arguments keyword-only as possible. See also
<a class="reference external" href="https://emptysqua.re/blog/api-evolution-the-right-way/#adding-parameters">API Evolution the Right Way -- Add Parameters Compatibly</a>.</p>
</li>
</ul>
</section>
<section id="deprecate-api">
<span id="deprecation-guidelines"></span><h2>Deprecate API<a class="headerlink" href="#deprecate-api" title="Link to this heading">#</a></h2>
<p>API changes in Matplotlib have to be performed following the deprecation process
below, except in very rare circumstances as deemed necessary by the development
team. Generally API deprecation happens in two stages:</p>
<ul class="simple">
<li><p><strong>introduce:</strong> warn users that the API <em>will</em> change</p></li>
<li><p><strong>expire:</strong> API <em>is</em> changed as described in the introduction period</p></li>
</ul>
<p>This ensures that users are notified before the change will take effect and thus
prevents unexpected breaking of code.</p>
<section id="rules">
<h3>Rules<a class="headerlink" href="#rules" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Deprecations are targeted at the next <a class="reference internal" href="pr_guide.html#pr-milestones"><span class="std std-ref">meso release</span></a> (e.g. 3.x)</p></li>
<li><p>Deprecated API is generally removed (expired) two point-releases after introduction
of the deprecation. Longer deprecations can be imposed by core developers on
a case-by-case basis to give more time for the transition</p></li>
<li><p>The old API must remain fully functional during the deprecation period</p></li>
<li><p>If alternatives to the deprecated API exist, they should be available
during the deprecation period</p></li>
<li><p>If in doubt, decisions about API changes are finally made by the
<a class="reference external" href="https://matplotlib.org/governance/people.html">API consistency lead</a> developer.</p></li>
</ul>
</section>
<section id="introduce-deprecation">
<span id="intro-deprecation"></span><h3>Introduce deprecation<a class="headerlink" href="#introduce-deprecation" title="Link to this heading">#</a></h3>
<ol class="arabic">
<li><p>Create <a class="reference internal" href="#api-whats-new"><span class="std std-ref">deprecation notice</span></a></p></li>
<li><p>If possible, issue a <a class="reference internal" href="../api/matplotlib_configuration_api.html#matplotlib.MatplotlibDeprecationWarning" title="matplotlib.MatplotlibDeprecationWarning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MatplotlibDeprecationWarning</span></code></a> when the
deprecated API is used. There are a number of helper tools for this:</p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">_api.warn_deprecated()</span></code> for general deprecation warnings</p></li>
<li><p>Use the decorator <code class="docutils literal notranslate"><span class="pre">&#64;_api.deprecated</span></code> to deprecate classes, functions,
methods, or properties</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">&#64;_api.deprecate_privatize_attribute</span></code> to annotate deprecation of
attributes while keeping the internal private version.</p></li>
<li><p>To warn on changes of the function signature, use the decorators
<code class="docutils literal notranslate"><span class="pre">&#64;_api.delete_parameter</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;_api.rename_parameter</span></code>, and
<code class="docutils literal notranslate"><span class="pre">&#64;_api.make_keyword_only</span></code></p></li>
</ul>
<p>All these helpers take a first parameter <em>since</em>, which should be set to
the next point release, e.g. &quot;3.x&quot;.</p>
<p>You can use standard rst cross references in <em>alternative</em>.</p>
</li>
<li><p>Make appropriate changes to the type hints in the associated <code class="docutils literal notranslate"><span class="pre">.pyi</span></code> file.
The general guideline is to match runtime reported behavior.</p>
<ul class="simple">
<li><p>Items marked with <code class="docutils literal notranslate"><span class="pre">&#64;_api.deprecated</span></code> or <code class="docutils literal notranslate"><span class="pre">&#64;_api.deprecate_privatize_attribute</span></code>
are generally kept during the expiry period, and thus no changes are needed on
introduction.</p></li>
<li><p>Items decorated with <code class="docutils literal notranslate"><span class="pre">&#64;_api.rename_parameter</span></code> or <code class="docutils literal notranslate"><span class="pre">&#64;_api.make_keyword_only</span></code>
report the <em>new</em> (post deprecation) signature at runtime, and thus <em>should</em> be
updated on introduction.</p></li>
<li><p>Items decorated with <code class="docutils literal notranslate"><span class="pre">&#64;_api.delete_parameter</span></code> should include a default value hint
for the deleted parameter, even if it did not previously have one (e.g.
<code class="docutils literal notranslate"><span class="pre">param:</span> <span class="pre">&lt;type&gt;</span> <span class="pre">=</span> <span class="pre">...</span></code>).</p></li>
</ul>
</li>
</ol>
</section>
<section id="expire-deprecation">
<span id="id2"></span><h3>Expire deprecation<a class="headerlink" href="#expire-deprecation" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Create <a class="reference internal" href="#api-whats-new"><span class="std std-ref">deprecation announcement</span></a>. For the content,
you can usually copy the deprecation notice and adapt it slightly.</p></li>
<li><p>Change the code functionality and remove any related deprecation warnings.</p></li>
<li><p>Make appropriate changes to the type hints in the associated <code class="docutils literal notranslate"><span class="pre">.pyi</span></code> file.</p>
<ul class="simple">
<li><p>Items marked with <code class="docutils literal notranslate"><span class="pre">&#64;_api.deprecated</span></code> or <code class="docutils literal notranslate"><span class="pre">&#64;_api.deprecate_privatize_attribute</span></code>
are to be removed on expiry.</p></li>
<li><p>Items decorated with <code class="docutils literal notranslate"><span class="pre">&#64;_api.rename_parameter</span></code> or <code class="docutils literal notranslate"><span class="pre">&#64;_api.make_keyword_only</span></code>
will have been updated at introduction, and require no change now.</p></li>
<li><p>Items decorated with <code class="docutils literal notranslate"><span class="pre">&#64;_api.delete_parameter</span></code> will need to be updated to the
final signature, in the same way as the <code class="docutils literal notranslate"><span class="pre">.py</span></code> file signature is updated.</p></li>
<li><p>Any entries in <code class="file docutils literal notranslate"><span class="pre">ci/mypy-stubtest-allowlist.txt</span></code> which indicate a deprecation
version should be double checked. In most cases this is not needed, though some
items were never type hinted in the first place and were added to this file
instead. For removed items that were not in the stub file, only deleting from the
allowlist is required.</p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="announce-new-and-deprecated-api">
<span id="api-whats-new"></span><h2>Announce new and deprecated API<a class="headerlink" href="#announce-new-and-deprecated-api" title="Link to this heading">#</a></h2>
<p>When adding or changing the API in a backward in-compatible way, please add the
appropriate <a class="reference internal" href="#versioning-directives"><span class="std std-ref">versioning directive</span></a> and document it
for the release notes and add the entry to the appropriate folder:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>versioning directive</p></th>
<th class="head"><p>announcement folder</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>new feature</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">versionadded::</span> <span class="pre">3.N</span></code></p></td>
<td><p><code class="file docutils literal notranslate"><span class="pre">doc/users/next_whats_new/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>API change</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">versionchanged::</span> <span class="pre">3.N</span></code></p></td>
<td><p><code class="file docutils literal notranslate"><span class="pre">doc/api/next_api_changes/[kind]</span></code></p></td>
</tr>
</tbody>
</table>
<p>When deprecating API, please add a notice as described in the
<a class="reference internal" href="#deprecation-guidelines"><span class="std std-ref">deprecation guidelines</span></a> and summarized here:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>stage</p></th>
<th class="head"><p>announcement folder</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#intro-deprecation"><span class="std std-ref">introduce deprecation</span></a></p></td>
<td><p><code class="file docutils literal notranslate"><span class="pre">doc/api/next_api_changes/deprecation</span></code></p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><a class="reference internal" href="#expire-deprecation"><span class="std std-ref">expire deprecation</span></a></p></td>
<td><p><code class="file docutils literal notranslate"><span class="pre">doc/api/next_api_changes/[kind]</span></code></p></td>
</tr>
</tbody>
</table>
<p>Generally the introduction notices can be repurposed for the expiration notice as they
are expected to be describing the same API changes and removals.</p>
<section id="versioning-directives">
<span id="id3"></span><h3>Versioning directives<a class="headerlink" href="#versioning-directives" title="Link to this heading">#</a></h3>
<p>When making a backward incompatible change, please add a versioning directive in
the docstring. The directives should be placed at the end of a description block.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the summary.</span>

<span class="sd">    Followed by a longer description block.</span>

<span class="sd">    Consisting of multiple lines and paragraphs.</span>

<span class="sd">    .. versionadded:: 3.5</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    a : int</span>
<span class="sd">        The first parameter.</span>
<span class="sd">    b: bool, default: False</span>
<span class="sd">        This was added later.</span>

<span class="sd">        .. versionadded:: 3.6</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">set_b</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
        <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Set b.</span>

<span class="s2">        .. versionadded:: 3.6</span>

<span class="s2">        Parameters</span>
<span class="s2">        ----------</span>
<span class="s2">        b: bool</span>
</pre></div>
</div>
<p>For classes and functions, the directive should be placed before the
<em>Parameters</em> section. For parameters, the directive should be placed at the
end of the parameter description. The micro release version is omitted and
the directive should not be added to entire modules.</p>
</section>
<section id="release-notes">
<h3>Release notes<a class="headerlink" href="#release-notes" title="Link to this heading">#</a></h3>
<p>For both change notes and what's new, please avoid using cross-references in section
titles as it causes links to be confusing in the table of contents. Instead, ensure that
a cross-reference is included in the descriptive text.</p>
<section id="api-change-notes">
<span id="id4"></span><h4>API change notes<a class="headerlink" href="#api-change-notes" title="Link to this heading">#</a></h4>
<p>API change notes for future releases are collected in
<code class="file docutils literal notranslate"><span class="pre">next_api_changes</span></code>. They are divided into four subdirectories:</p>
<ul class="simple">
<li><p><strong>Deprecations</strong>: Announcements of future changes. Typically, these will
raise a deprecation warning and users of this API should change their code
to stay compatible with future releases of Matplotlib. If possible, state
what should be used instead.</p></li>
<li><p><strong>Removals</strong>: Parts of the API that got removed. If possible, state what
should be used instead.</p></li>
<li><p><strong>Behaviour changes</strong>: API that stays valid but will yield a different
result.</p></li>
<li><p><strong>Development changes</strong>: Changes to the build process, dependencies, etc.</p></li>
</ul>
<p>Please place new entries in these directories with a new file named
<code class="docutils literal notranslate"><span class="pre">99999-ABC.rst</span></code>, where <code class="docutils literal notranslate"><span class="pre">99999</span></code> would be the PR number, and <code class="docutils literal notranslate"><span class="pre">ABC</span></code> the
author's initials. Typically, each change will get its own file, but you may
also amend existing files when suitable. The overall goal is a comprehensible
documentation of the changes.</p>
<p>A typical entry could look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Locators
~~~~~~~~
The unused `Locator.autoscale()` method is deprecated (pass the axis
limits to `Locator.view_limits()` instead).
</pre></div>
</div>
</section>
<section id="what-s-new-notes">
<span id="whats-new-notes"></span><h4>What's new notes<a class="headerlink" href="#what-s-new-notes" title="Link to this heading">#</a></h4>
<p>Please place new portions of <code class="xref py py-obj docutils literal notranslate"><span class="pre">whats_new.rst</span></code> in the <code class="xref py py-obj docutils literal notranslate"><span class="pre">next_whats_new</span></code> directory.</p>
<p>When adding an entry please look at the currently existing files to
see if you can extend any of them.  If you create a file, name it
something like <code class="file docutils literal notranslate"><span class="pre">cool_new_feature.rst</span></code> if you have added a brand new
feature or something like <code class="file docutils literal notranslate"><span class="pre">updated_feature.rst</span></code> for extensions of
existing features.</p>
<p>Include contents of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Section</span> <span class="n">title</span> <span class="k">for</span> <span class="n">feature</span>
<span class="o">-------------------------</span>

<span class="n">A</span> <span class="n">bunch</span> <span class="n">of</span> <span class="n">text</span> <span class="n">about</span> <span class="n">how</span> <span class="n">awesome</span> <span class="n">the</span> <span class="n">new</span> <span class="n">feature</span> <span class="ow">is</span> <span class="ow">and</span> <span class="n">examples</span> <span class="n">of</span> <span class="n">how</span>
<span class="n">to</span> <span class="n">use</span> <span class="n">it</span><span class="o">.</span>

<span class="n">A</span> <span class="n">sub</span><span class="o">-</span><span class="n">section</span>
<span class="o">~~~~~~~~~~~~~</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


                </article>
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#add-new-api-and-features">Add new API and features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecate-api">Deprecate API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rules">Rules</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduce-deprecation">Introduce deprecation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expire-deprecation">Expire deprecation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#announce-new-and-deprecated-api">Announce new and deprecated API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#versioning-directives">Versioning directives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#release-notes">Release notes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#api-change-notes">API change notes</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#what-s-new-notes">What's new notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2002–2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012–2023 The Matplotlib development team.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Built from v3.8.1-1178-g88d64e5f0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>